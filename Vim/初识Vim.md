# 初识 Vim

## vim 的多种模式

### 插入的模式

- `a / A` 单词后 / 行后插入 ( append )
- `i / I` 单词前 / 行前插入 ( insert )
- `o / O` 在下 / 上面打开一行 ( open a line below )
- `:vs` 分屏 (竖分)
- `:sp` 分屏(横分)
- `:set nu`

## 快速移动大法

### 快速纠错

- `ctrl + h` 删除上一个字符
- `ctrl + w` 删除上一个单词
- `ctrl + u` 删除当前行

### 快速移动

- `gi` 回到最后一次编辑位置
- `w / W` 移动到下一个 word / WORD 开头
- `e / E` 移动到下一个 word / WORD 结尾
- `b / B` 移动到上一个 word / WORD 开头 _可以理解为 background_
- word 指的是以非空白符分割的单词, WORD 以非空白符分割的单词

### 行间搜索

- 使用 `f{char}` 可以移动到 char 字符上, `t` 移动到 char 的前一个字符
- 用 分号 ( `;` ) / 逗号 ( `,`) 继续搜索下一个 / 上一个
- `F` 搜前面的字符

### 水平移动

- **`0` 移动到行首第一个字符**, `^` 移动到第一个非空白字符
- **`$` 移动到行尾**, `g_` 移动到行尾非空白字符

### 垂直移动

- `( )` 在句子间移动
- `{ }` 在段落之间移动

### 页面移

- `gg / G` 移动到文件开头和结尾
- `ctrl + o` 快速返回
- `H / M / L` 跳转到屏幕的开头 ( Head ) , 中间 ( Middle ) 和结尾 ( Lower )
- `ctrl + u / ctrl + f` 上下翻页 ( upword / forword )
- `zz` 把屏幕置为中间

## 快速增删改查

### 增加字符

- [插入](#插入的模式)

### 快速删除

- `x` 快速删除一个字符
- `d` 配合文本对象快速删除一个单词 daw / diw ( delete around word )
- `d` 和 `x` 可以搭配数字来执行多次
- `dd` 删除当前行
- `dt)` 删除到右括号
- `d$` 从当前位置删除到行尾
- `d0` 从当前位置删除到行首
- `2dd` 删除两行
- `4x` 删除四个字符

### 快速修改

- `r` 替换一个字符 ( replace )
- `c` 配合文本对象进行修改，相当于替换并插入 ( change )
- `s` 替换并进入插入模式 ( substitute )
- `% s/foo/bar/g` 全局替换

### Vim 查询

- 是使用 `/ 或 ?` 进行向前向后搜索
- 使用 `n 或 N` 跳转到上一个或者下一个匹配
- 使用 `* 或 #` 进行当前单词的前向和后向匹配

## Vim 替换命令

- `substitute` 命令允许我们查找并且替换掉文本, 并且支持正则表达式
- `:[ range ] s [ ubstitute ] / { pattern } / {string} /  [ flags ]`
- range 表示范围 比如: 10, 20 表示 10 - 20 行, % 表示全部
- pattern 是要替换的模式
- string 是替换后的文本
- flags 替换标志位
  - g ( global ) 表示全局范围内执行
  - c ( confirm ) 表示确认, 可以确认或拒绝修改
  - n ( number ) 报告匹配到的次数而不替换, 可以用来查询匹配次数
