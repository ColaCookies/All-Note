# 基本操作

## Shell 概述与分类

- `Shell` 是系统的用户界面，提供了用户和内核进行交互操作的一种接口。

## 快捷键

- 常用：	

    | 快捷键         | 说明                                                       |
    | -------------- | ---------------------------------------------------------- |
    | `Ctrl+c`       | *中断操作*                                                 |
    | `Ctrl+d`       | 键盘输入结束或退出终端                                     |
    | `Ctrl+s`       | *暂停当前程序，暂停后按下任意键恢复运行*                   |
    | `Ctrl+a`       | *将光标移动到命令行首*                                     |
    | `Ctrl+e`       | *将光标移动到命令行尾*                                     |
    | `Ctrl+l`       | *清屏*                                                     |
    | `Ctrl+shift+N` | 新建终端窗口（在实验环境中，此命令可能与浏览器快捷键冲突） |

    

## Linux 命令格式

- 格式：
    - `command [options] [arguments]`
        - `command`：命令
        - `options`：选项，定义命令的执行特性，有长短两种选项：
            - `长选项`：用 `--` 引导，后面跟完整的单词，如 `--help`；
            - `短选项`：用 `-` 引导，后面跟单个的字符，如 `-a`。
        - `argument`：参数，表示命令的作用对象。在 Linux 中，命令的选项和参数所使用的符号也有相应的含义：
            - `[]`：可省略的内容。
            - `<>`：必须提供。
            - `a|b`：二选一或多选一。
            - `...`：前面的内容可重复出现多次。

## 环境变量

### 环境变量

- Linux 中的环境变量主要分为 `系统级` 和 `用户级`，系统级环境变量是每个登录到系统的用户都要读取的变量，而用户级的环境变量则是用户使用系统时加载的个人环境变量。
- 系统级：

    - `/etc/profile` 文件：当用户登录 Shell 时执行的第一个文件，用来完成一些初始化工作，通常是调用 `/etc/bash.bashrc` 文件来完成具体工作。
    - `/etc/environment` 文件：系统级别的环境变量，并不是一个脚本，内容为一些环境变量赋值语句，用来给不从 Shell 启动的程序设置环境变量。
- 用户级（文件主要是在 `/home` 目录下）：

    - `~/.profile` 文件：每个用户都可以调用来输入自己使用的 `shell` 信息，不过在用户登录时，该文件只执行一次。
    - `~/.bashrc` 文件：包含登录用户的专用 `bash shell` 的 `bash` 信息，也就是说每开一个 `shell`，该文件都会被读取一次。
- 临时的：
        - 针对当前 `shell` 的环境变量。

### Linux 变量的种类

- 若按照 `变量的生存周期` 来划分，那么变量就可以分为：

    - `永久的`：需要修改配置文件，变量永久生效。
    - `临时的`：使用 `export` 命令来声明即可，变量在关闭 `shell` 的时候自动失效。

    若按照 `环境变量自身的信息` 来划分，则可以分为：

    - 当前 `shell` 进程私有用户自定义变量。此时变量只在当前 `shell` 中有效。
    - `shell` 自身的內建变量。
    - 从自定义变量导出的环境变量。

### 设置变量的方法

- `/etc/profile` 文件中添加变量（永久） 
- 修改 `~/.profile` 文件（对单一用户永久生效）
- 运行 `export` 命令定义环境变量（临时的）==不推荐==
    -  `export 变量名=变量值`


### 环境变量的查看

- `export` 命令查看

- `echo` 命令

- `env` 命令查看所有的环境变量

- `set` 命令查看本地定义的环境变量

- `vimdiff` 直观查看环境变量

- 修改删除环境变量

    - 修改

        |          变量设置方式          | 说明                                         |
        | :----------------------------: | :------------------------------------------- |
        |      `${变量名#匹配字串}`      | 从头向后开始匹配，删除符合匹配字串的最短数据 |
        |     `${变量名##匹配字串}`      | 从头向后开始匹配，删除符合匹配字串的最长数据 |
        |      `${变量名%匹配字串}`      | 从尾向前开始匹配，删除符合匹配字串的最短数据 |
        |     `${变量名%%匹配字串}`      | 从尾向前开始匹配，删除符合匹配字串的最长数据 |
        | `${变量名/旧的字串/新的字串}`  | 将符合旧字串的第一个字串替换为新的字串       |
        | `${变量名//旧的字串/新的字串}` | 将符合旧字串的全部字串替换为新的字串         |

    - 删除 `unset` 可以用来删除指定的环境变量。

### 环境变量的生效

- `source` 命令可以读取并执行指定文件中的命令，这里我们可以通过该命令来让配置的文件立即生效，避免了每次修改配置脚本文件后，还需要退出终端甚至重启之后才能生效的问题。

### 常用的环境变量

- | 环境变量   | 说明                                                 |
    | ---------- | ---------------------------------------------------- |
    | `PATH`     | 决定了 shell 将到哪些目录中寻找命令或程序            |
    | `HOME`     | 当前用户主目录                                       |
    | `HISTSIZE` | 历史记录数                                           |
    | `LOGNAME`  | 当前用户的登录名                                     |
    | `HOSTNAME` | 指主机的名称                                         |
    | `SHELL`    | 当前用户 Shell 类型                                  |
    | `LANGUGE`  | 语言相关的环境变量，多语言可以修改此环境变量         |
    | `MAIL`     | 当前用户的邮件存放目录                               |
    | `PS1`      | 基本提示符，对于 root 用户是 `#`，对于普通用户是 `$` |

    

## 终端介绍

- 人和机器是两个相互独立的实体。当人使用机器时，必须借助某种接口（interface）才能与机器交流信息。台式机的接口包括显示器、键盘、鼠标、扬声器、麦克风等。CPU、内存、硬盘、光驱、显卡、网卡等其它硬件属于主机（host）。而 Unix 和 Linux 把这种使人和机器可以交互的接口称为`终端`。
- 终端具有两个基本功能：`向主机输入信息` 和 `向外部输出信息`。所以终端可以分为 `输入设备` 和 `输出设备`。