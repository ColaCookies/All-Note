# 实用指令

## 基本介绍

- 运行级别说明 `init[0123456]`
  1. `0` : 关机
  2. `1` : 单用户
  3. `2` : 多用户状态没有网络服务
  4. `3` : 多用户状态有网络服务 ***【常】***
  5. `4` : 系统未使用保留给用户
  6. `5` : 图形界面 ***【常】***
  7. `6` : 系统重启

## 指定运行级别

- 运行级别
  - `multi-user.target` : 3 多用户有网
  - `graphical.target`  : 5 图形界面
- 查看当前运行级别
  - `systemctl get-default`
- 修改运行级别
  - `systemctl set-default TARGET.target`
  
## 找回root密码

1. 进入系统界面按 “e” 进入编辑页面
2. 进入编辑页面在 ‘linux16’ 行尾加上 `init=/bin/sh` 输入完后按下 ‘ctrl+x’
3. 光标处输入 `mount -o remount,rw /`
4. 再输入 `passwd` 然后输入新密码
5. 接着输入 `touch /.autorelabe`
6. 最后输入 `exec /sbin/init`

## 帮助指令

1. `man` 获得帮助信息
      - `man + 命令或配置文件`
      - `ls -al` / `ls -la /'文件夹'`

2. `help` 指令
   - 获得shell内置命令的帮助信息

3. 百度帮助

## 文件目录类

1. `pwd` 指令
   - 显示当前工作目录的绝对路径

2. `ls` 指令
   - `-a` : 显示当前目录所有的文件目录,包括隐藏的
   - `-l` : 以列表的方式显示信息

3. `cd` 指令
   - 切换到指定目录
   - `cd [参数]`
   - ==绝对路径和相对路径==
   - `cd ~ / cd` : 回到自己的家目录
   - `cd ..` : 回到当前上一级目录

4. `mkdir` 指令
   - 用于创建目录
   - `mkdir [选项] 要创建的目录`
   - `-p` : 创建多级目录
   - 例: `/home/animal/tiger`
  
5. `rmdir` 指令
   - 删除空目录，如果目录下有内容时无法删除
   - `rmdir [选项] 要删除的空目录`
   - 如需删除非空目录，需使用`rm -rf`==【慎用】==

6. `touch` 指令
   - 创建空文件
   - `touch 文件名`
   - 例: `/home/cbl/hello.txt`

7. `cp` 指令
   - 拷贝文件到指定目录
   - `cp [选项] source dest`
   - `-r`: 递归复制整个文件夹
   - 强制覆盖不提示`\cp`==【慎用】==

8. `rm` 指令
   - 移除文件或目录
   - `rm [选项] 要删除的文件或目录`
   - `-r`: 递归删除整个文件夹
   - `-f`: 强制删除不提醒 ==【慎用】==

9. `mv` 指令
    - 移动文件与目录或重命名
    - `mv oldNameFile newNameFle`
    - `mv /temp/movefile /targetFolder`
    - `mv cat.txt /home/pig.txt/` 移动且重命名

10. `cat` 指令
    - 查看文件内容,只能浏览文件,而不能修改文件
    - `cat [选项] 要查看的文件`
    - `-n`: 显示行号
    - 为了浏览方便,一般会带上==管道命令==`|more`

11. `more` 指令
    - 全屏按页显示文本内容,more中内置了若干快捷键
    - `more 要查看的文件`

      |操作|功能|
      | :----: | :----: |
      |`space`|向下翻一页|
      |`Enter`|向下翻一行|
      |`q`|离开|
      |`=`|输出当前行号|
      |`:f`|输出文件夹名和当前行的行号|

12. `less` 指令
    - 用来分屏查看文件内容，显示内容时并不是一次将整个文件加载完之后显示，而是根据显示需要加载内容
    - `less 要查看的文件`

      | 操作|功能|
      |:----:|:----:|
      |空白键|向下翻动一页|
      |`[pagedown]`|向下翻动一页|
      |`[pageup]`|向上翻动一页|
      |`/字串`|向下搜寻|
      |`n`/`N`|向下查找 / 向上查找|
      |`?字串`|向上搜寻|
      |q|退出|

13. `echo` 指令
    - 输出内容到控制台
    - `echo [选项] [输出内容]`

14. `head` 指令
    - 用于显示文件开头部分内容,默认显示文件前10行内容
    - `head 文件` / `head -n 5 文件`

15. `tail` 指令
    - 用于显示文件结尾部分内容,默认显示文件后10行内容
    - `tail 文件` / `tail -n 5 文件`
    - `tail -f 文件`: 实时追踪文档的所有更新

16. `>`和`>>` 指令
    - 输出重定向和追加
    - `ls -l > 文件`: 列表的内容写入到文件中(覆盖)
    - `ls -al >> 文件`: 列表的内容追加到文件的末尾
    - `cat 文件1 > 文件2`: 将文件1的内容覆盖到文件2
    - `echo "内容" >> 文件`
  
17. `ln` 指令
    - 软连接或符号连接，主要存放了链接其他文件的路径
    - `ln -s [原文件或目录] [软链接名]`
    - `pwd`命令查看时,仍显示的是软连接所在的目录

18. `history` 指令
    - 查看已经执行过历史命令,也可以执行历史指令
    - `history + 数字` 显示最近使用的10个指令
    - `! + 数字` 执行历史编号为5的指令

19. `date` 指令
    - 显示当前日期
    - `date + %Y` 显示当前年份
    - `date + %m` 显示当前月份
    - `date + %d` 显示当前是那一天
    - `date "+%Y-%m-%d %H:%M:%S"` 显示年月日时分秒
    - `date -s "时间"` 设置时间

20. `cal` 指令
    - 显示本月日历
    - `cal[年份]` 显能整年日历

21. `find` 指令
    - 从指定目录向下递归地遍历其各个子目录，将满足条件的文件或者目录显示在终端
    - `find [指令] [文件名/用户/大小]`
      - `-name<查询方式>` 按照指定的文件名查找模式查找文件
      - `-user<用户名>` 查找属于指定用户名所有文件
      - `-size<文件大小>` 按照指定的文件大小查找文件。(+n大于 -n小于 n 等于, 单位有k,M,G）

22. `locate` 指令
    - 快速定位文件路径
    - `locate [文件名]`

23. `which` 指令
    - 查看某个指令在那个目录下
