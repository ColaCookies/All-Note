## 文件操作

---

1. 文件的打开与关闭
   - 打开文件 `open('name'，'访问模式')`
   - 关闭文件 `name.close()`
2. 相对路径和绝对路径

   - 绝对路径：从盘符开始的路径
   - 相对路径：相对当前源码所在的路径
   - 绝对路径中为了不让 \ 产生转义效果，需要在路径前面添加字母 r 否则需要在将每个 \ 进行转义，写为 \

3. 中文编码问题

   - 可以通过`encoding`指定写入中文的字符集

     ```Python
     f = open("test.txt", "w", encoding="UTF-8")
     f.write("IT私塾")
     f.close()
     ```

4. 文件读写

   - 写入数据 `write()`

     ```Python
     f = open('test.txt', 'w')
     f.write('hello world, i am here!')
     f.close()
     ```

   - 如果文件不存在那么创建；如果存在那么就先清空，然后写入数据

   - 写入数据 `writelines()`

     ```Python
     #写法一：
     f.write("IT私塾\n高效学习\n学以致用\n")     #通过换行符实现输出多行效果
     #写法二：
     content = ["IT私塾\n","高效学习\n","学以致用\n"]
     f.writelines(content)                     #通过writelines一次性写出列表的每个元素
     #写法三：
     f.write("\n".join(content))               #使用字符串的join函数，为每个元素添加换行符
     f.close()
     ```

   - 读数据 `read()`

     - 使用`read(num)`可以从文件中读取数据，`num`表示要从文件中读取的数据的长度（单位是字符），如果没有传入`num`，那么就表示读取文件中所有的数据

       ```Python
       data = f.read()     #没有指定读取的字符数，表示读取文件中所有的数据
       print(data)
       data = f.read(4)     #文件读取过程中的指针的定位会向后移动指定"字符数"
       ```

   - 读数据 `readline()`

     - `readline`，读取一行，返回一个字符串。

   - 读数据 `reaadlines()`

     - 就像 read 没有参数时一样，`readlines`可以按照行的方式把整个文件中的内容进行一次性读取，并且返回的是一个列表，其中每一行的数据为一个元素。

   - 所在位置 `tell`

     - tell，返回指针当前所在的位置（指针所在位置前面的字节数)

   - 定位 `seek`

     - seek，定位文件读取的指针所在位置（字节)
     - `seek(offset[, whence])`
       - `offset` -- 开始的偏移量，也就是代表需要移动偏移的字节数
       - `whence`：可选，默认值为 0。
       - 给 offset 参数一个定义，表示要从哪个位置开始偏移；
       - 0 代表从文件开头开始算起，1 代表从当前位置开始算起，2 代表从文件

   - 访问模式 `open("text.txt", mode='r+')`

     - mode 设定的就是访问模式，决定可以进行的文件操作能力

     - 更多访问模式

       | `r`  |  `w`  |  `a`  | `rb`  |
       | :--: | :---: | :---: | :---: |
       | `wb` | `ab`  | `r+`  | `w+`  |
       | `a+` | `rb+` | `wb+` | `ab+` |

   - 二进制读写

     - 二进制文件的读写 （主要应用在图片、音乐、视频等文件的读写）
     - `rb：read binary` 读取二进制文件
     - `wb：write binary` 写入二进制文件
     - 将文件的内容单纯的用 0 和 1 来进行读取和存储。不用指定字符集。

5. 文件对象的函数和属性

   - `flush()` 刷新缓冲区
   - `truncate()` 截断文件
   - 文件对象
